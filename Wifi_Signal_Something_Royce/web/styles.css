@font-face{font-family:Inter;src:local('Inter'), local('Segoe UI'), local('Roboto');}
:root{
  --bg:#0a0f1a;
  --panel:#0f1626;
  --accent:#4cc9f0;
  --accent2:#b5179e;
  --good:#00e676;
  --warn:#ffd166;
  --bad:#ff4d4d;
  --glow: 0 0 20px rgba(76,201,240,0.5);
}
*{box-sizing:border-box}
html,body,#app{height:100%}
body{
  margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial; color:#e6edf3; background: radial-gradient(1200px 800px at 20% 10%, #131a2a, var(--bg));
}
.topbar{
  grid-column:1 / -1; display:flex; align-items:center; justify-content:space-between; padding:12px 16px; background: linear-gradient(135deg, rgba(15,22,38,.9), rgba(10,15,26,.8)); backdrop-filter: blur(8px); position:sticky; top:0; z-index:5; border-bottom:1px solid rgba(255,255,255,.06);
}
.title{font-weight:700; letter-spacing:.5px}
.buttons{display:flex; gap:10px}
.btn{
  background: linear-gradient(135deg, #1b2338, #151c2f); color:#e6edf3; border:1px solid rgba(255,255,255,.08); border-radius:10px; padding:10px 14px; cursor:pointer; box-shadow: 0 8px 20px rgba(0,0,0,.25), 0 0 0 rgba(76,201,240,0.0); transition: transform .12s ease, box-shadow .2s ease, border-color .2s;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 12px 28px rgba(0,0,0,.35), 0 0 24px rgba(76,201,240,.25); border-color:rgba(76,201,240,.5)}
.btn:active{ transform: translateY(0); box-shadow: 0 6px 14px rgba(0,0,0,.35), 0 0 10px rgba(76,201,240,.25)}
.btn-danger{ border-color: rgba(255,77,77,.4)}
.btn-danger:hover{ box-shadow: 0 12px 28px rgba(255,77,77,.15), 0 0 24px rgba(255,77,77,.35)}

#app{display:grid; grid-template-columns: 260px 1fr; grid-template-rows: auto 1fr; gap:0; height:100vh;}
.left-panel{grid-row:2; grid-column:1; padding:16px; border-right:1px solid rgba(255,255,255,.06); background:linear-gradient(180deg, rgba(15,22,38,.55), rgba(10,15,26,.2)); min-height:0;}
.status-orb{
  width:120px; 
  height:120px; 
  border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #1ee, #059); 
  box-shadow: 0 0 40px rgba(76,201,240,.4), inset 0 0 30px rgba(255,255,255,.08); 
  transition: background 1s linear, box-shadow 1s linear;
  
  /* Centering styles */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
  pointer-events: none; /* Prevents it from blocking mouse events on the canvas */
}
.legend{margin-top:24px}
.legend-item{display:flex; align-items:center; gap:8px; color:#b9c2cf; margin:6px 0}
.chip{display:inline-block; width:14px; height:14px; border-radius:7px; box-shadow: 0 0 12px rgba(255,255,255,.2)}
.chip-strong{background: var(--good)}
.chip-medium{background: var(--warn)}
.chip-weak{background: var(--bad)}
.hint{margin-top:18px; font-size:12px; color:#90a0b7}

.canvas-wrap{grid-row:2; grid-column:2; position:relative; height:100%; min-height:0;}
#heatmap{width:100%; height:100%; display:block; background: radial-gradient(1800px 1200px at 80% 20%, rgba(76,201,240,.04), rgba(181,23,158,.02) 50%, transparent 70%), repeating-linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02) 1px, transparent 1px, transparent 40px), radial-gradient(circle at center, rgba(255,255,255,.02), rgba(0,0,0,.0));}

.tooltip{position:absolute; padding:8px 10px; background:rgba(13,20,34,.95); color:#d9e2ef; border:1px solid rgba(255,255,255,.08); border-radius:8px; pointer-events:none; box-shadow: 0 8px 24px rgba(0,0,0,.35)}

.progress{position:absolute; left:50%; transform:translateX(-50%); bottom:24px; width:min(560px, 70%); height:18px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:999px; overflow:visible; box-shadow: 0 10px 30px rgba(0,0,0,.35);} 
.progress-bar{height:100%; width:0%; background: linear-gradient(90deg, #39ff88, #4cc9f0, #b5179e, #ff4d4d); background-size: 300% 100%; animation: flow 3s linear infinite; border-radius: 999px;}
.progress-text{position:absolute; left:50%; transform:translateX(-50%); bottom: 26px; color:#cdd8e7; font-weight:700; text-shadow: 0 1px 0 rgba(0,0,0,.4)}
@keyframes flow{0%{background-position:0 0}100%{background-position:100% 0}}

.result{position:absolute; left:50%; transform:translateX(-50%); bottom:56px; padding:10px 14px; background:rgba(15,22,38,.85); border:1px solid rgba(255,255,255,.12); border-radius:10px; box-shadow: 0 10px 30px rgba(0,0,0,.35)}

.hotspot-label{position:absolute; padding:6px 8px; background:rgba(15,22,38,.9); border:1px solid rgba(255,255,255,.08); border-radius:8px; color:#cdd8e7; font-size:12px}

/* Buttons position */
.topbar .buttons{margin-left:auto}

/* Graph panel (legacy - no longer shown) */
.graph-panel{display:none}
.graph-title{display:none}
#graph2d{display:none}

/* Modal styles */
.modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1000}
.modal.show{display:flex}
.modal-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.6); backdrop-filter: blur(2px)}
.modal-content{position:relative; width:min(1100px, 92vw); height:min(750px, 88vh); background:linear-gradient(180deg, rgba(15,22,38,.95), rgba(10,15,26,.92)); border:1px solid rgba(255,255,255,.12); border-radius:14px; box-shadow: 0 20px 60px rgba(0,0,0,.5); display:flex; flex-direction:column; overflow:hidden}
.modal-header{display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid rgba(255,255,255,.06)}
.modal-title{font-weight:600}
.modal-body{position:relative; flex:1; padding:8px}
#graph2dModal{display:block; width:100%; height:100%; background:radial-gradient(900px 500px at 20% 0%, rgba(76,201,240,.06), transparent 60%)}
#graphTooltip{position:absolute}

